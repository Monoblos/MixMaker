<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mix Maker</title>
    <link rel="stylesheet" href="./static/css/style.css">
    <script src="./static/bundle/script.js" defer></script>
  </head>
  <body>
    <!-- Tool selection, always visible -->
    <div>
      <label for="tool">Select what tool you want:</label>
      <select id="tool">
        <option>Please Select</option>
        <option value="recipe">Recipe finder</option>
        <option value="simulator">Simulator</option>
        <option value="optimizer">Profit optimizer</option>
      </select>
    </div>

    
    <!-- Recipe finder tool -->
    <div id="recipe" hidden>
      <div style="padding: 5px;">
        <div>
          <label for="base">Select base drug:</label>
          <select name="drug", id="base"></select>
        </div>
        <input type="number" id="depth" value="4" title="The maximum amount of substances used on the drug"/>
        <input type="checkbox" id="linear" hidden/>
        <button id="generate">Generate</button>
        <button id="load" title="Load a recipe book of depth 8 from the server instead of generating">Load</button>
        <button id="save" title="Save to a local cache" hidden>Save</button>
      </div>
      <div id="withGraph" hidden>
        <div id="loadResult">Loaded recipes for <span id="nodes">0</span> effect combinations.</div>
        <div id="selection">
        </div>
        <div>
          <button id="calc">Find best option</button>
        </div>
      </div>
    </div>

    <!-- Recipe builder with drag and drop -->
    <div id="simulator" hidden>
      <div>
        <label for="base">Select base drug:</label>
        <select name="drug", id="base"></select>
      </div>
      <div id="stepSelection" name="dndarea">
        <div id="selectedSteps"></div>
        <div id="ingredients"></div>
      </div>
    </div>

    <!-- High value finder with set steps -->
    <div id="optimizer" hidden>
      <div>
        <label for="base">Select base drug:</label>
        <select name="drug", id="base"></select>
      </div>
      <div>
        <label for="rankSelection">Select available substances by rank:</label>
        <select name="rank", id="rankSelection"></select>
      </div>
      <div id="substanceSelection">
      </div>
      <div style="padding: 5px;">
        <input type="number" id="steps" value="4" width="5"/>
        <span><input type="checkbox" id="perStep"/><label for="perStep">Optimizie for per-step profit</label></span>
        <button id="find">Find</button>
      </div>
    </div>
  
    <!-- Output area, always visible -->
    <div id="loader" hidden>
      <span class="loader"></span>
    </div>
    <div id="error" hidden></div>
    <div id="result" hidden>
      <p>Found drug worth: <span id="drugValue">$</span> (total multiplier is <span id="drugMultiplier">$</span> from theoretical max 5.68)</p>
      <p>Profit after ingredient cost is <span id="profit"></span> which means <span id="perStepProfit"></span> profit per step.</p>
      <p>Drug hast the effects:</p>
      <ul id="effects"></ul>
      <p id="pathText">Combination to reach it</p>
      <ol id="path"></ol>
      <a href="#simulatorCocainCukDonFlu">See in simulator ➡️</a>
    </div>
    <p id="debug"></p>
  </body>
</html>